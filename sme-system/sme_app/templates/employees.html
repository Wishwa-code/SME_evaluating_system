{% extends "layout.html" %}
{% load static %}
{% block body %}
    <div class="main-container">
        <h1>Employee Report</h1>

        <h2>Add New Employee</h2>
        {% if messages %}
            <ul class="messages">
                {% for message in messages %}
                    <li class="message {{ message.tags }}">
                        {{ message }}
                    </li>
                {% endfor %}
            </ul>
        {% endif %}
        <form id="employeeForm" method="POST" action="{% url 'handle_employees' %}">
            {% csrf_token %}
            <div>
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" required>
            </div>
            <div>
                <label for="address">Address:</label>
                <input type="text" id="address" name="address" required>
            </div>
            <div>
                <label for="employee_code">Employee Code:</label>
                <input type="text" id="employee_code" name="employee_code" required>
            </div>
            <div>
                <label for="mobile_number">Mobile Number:</label>
                <input type="text" id="mobile_number" name="mobile_number">
            </div>
            <div>
                <label for="efp_number">EFP Number:</label>
                <input type="text" id="efp_number" name="efp_number">
            </div>
            <button type="submit">Submit</button>
        </form>

        <table>
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Address</th>
                    <th>Employee Code</th>
                    <th>Mobile Number</th>
                    <th>EFP Number</th>
                </tr>
            </thead>
            <tbody>
                {% for employee in page_obj %}
                <tr>
                    <td>{{ employee.name }}</td>
                    <td>{{ employee.address }}</td>
                    <td>{{ employee.employee_code }}</td>
                    <td>{{ employee.mobile_number }}</td>
                    <td>{{ employee.efp_number }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <hr>

        <div class="pagination">
            <span class="step-links">
                {% if page_obj.has_previous %}
                    <a href="?page=1">&laquo; first</a>
                    <a href="?page={{ page_obj.previous_page_number }}">previous</a>
                {% endif %}

                <span class="current">
                    Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
                </span>

                {% if page_obj.has_next %}
                    <a href="?page={{ page_obj.next_page_number }}">next</a>
                    <a href="?page={{ page_obj.paginator.num_pages }}">last &raquo;</a>
                {% endif %}
            </span>
        </div>
    </div>
    {% endblock %}
    {% block style %}
    <link href="{% static 'daily_amounts/daily_amounts.css' %}" rel="stylesheet">
    {% endblock %}
    {% block script %}
    {% endblock %}